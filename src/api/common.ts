import {Base64 as b64} from 'js-base64'

export function isLogin():boolean{
  return uni.getStorageSync("token") && true
} 

export function showT (title :string, duration:number = 2000) {
  uni.showToast({
    title: title,
    icon: "none",
    duration: duration
  });
}

export function navigateTo(url:string){
  uni.navigateTo({
    url: url
  });
}

export function switchTab(url:string){
  uni.switchTab({
    url: url
  });
}

const defulatTagSvg = '<svg t="1693144408465" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1536" width="200" height="200"><path d="M512 0C229.290667 0 0 229.290667 0 512s229.290667 512 512 512 512-229.290667 512-512S794.709333 0 512 0z m311.082667 823.082667a437.717333 437.717333 0 0 1-139.904 94.293333c-54.186667 23.04-111.786667 34.602667-171.178667 34.602667a439.338667 439.338667 0 0 1-311.082667-128.896 437.717333 437.717333 0 0 1-94.293333-139.904c-23.04-54.186667-34.645333-111.786667-34.645333-171.178667a439.338667 439.338667 0 0 1 128.896-311.082667 437.717333 437.717333 0 0 1 139.946666-94.293333c54.186667-23.04 111.786667-34.645333 171.178667-34.645333a439.338667 439.338667 0 0 1 311.082667 128.896c40.405333 40.405333 72.234667 87.509333 94.293333 139.946666 23.04 54.186667 34.602667 111.786667 34.602667 171.178667 0 59.392-11.562667 116.992-34.56 171.178667a436.053333 436.053333 0 0 1-94.293334 139.946666z" fill="#000000" p-id="1537"></path><path d="M701.781333 436.992h-166.997333c0.725333 0 1.408-0.298667 2.133333-0.981333l118.186667-117.802667c14.08-14.08 14.208-36.693333 0.085333-50.688a35.925333 35.925333 0 0 0-50.901333 0.085333L511.914667 360.106667 418.986667 267.306667a36.138667 36.138667 0 0 0-51.072 0.213333 36.138667 36.138667 0 0 0-0.128 51.072l118.186666 118.101333c0.725333 0.725333 1.408 1.706667 2.133334 1.706667H321.621333a34.645333 34.645333 0 0 0-34.304 34.517333v3.285334c0 18.773333 15.488 33.792 34.261334 33.792h154.453333v64H353.450667c-18.773333 0-33.493333 16.298667-33.493334 35.114666v4.010667c0 18.773333 14.72 32.853333 33.493334 32.853333h122.496v149.205334a35.968 35.968 0 1 0 72.021333 0v-149.162667h121.770667c18.816 0 35.2-14.08 35.2-32.896v-4.010667a35.968 35.968 0 0 0-35.2-35.114666h-121.770667v-64h153.770667c18.816 0 35.2-14.208 35.2-33.109334v-3.968c0-18.816-16.384-35.925333-35.2-35.925333z" fill="#000000" p-id="1538"></path></svg>'

export let defaultBase64SVG : string = toImgBase64SVG(defulatTagSvg);

export function toImgBase64SVG(svg:string):string{
    if (svg == ""){
      return defaultBase64SVG
    }
    return "data:image/svg+xml;base64," + b64.encode(svg)
}

export function toImgSVGByBase64(data:string):string{
  if (data && data.startsWith("data:image/svg+xml;base64,")){
    data = data.replace("data:image/svg+xml;base64,","")
    return b64.decode(data)
  }
  return ""
}